{"version":3,"sources":["../node_modules/peerjs/dist sync","api/index.js","api/token.js","redux/slices/auth.js","components/Home.jsx","components/Login.jsx","components/Register.jsx","components/Message.jsx","components/fullScreen.jsx","components/Room.jsx","components/Join.jsx","components/Loading.jsx","App.js","redux/store.js","index.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","api","axios","create","baseURL","process","REACT_APP_HOST_URL","headers","interceptors","response","use","res","err","status","Promise","reject","setToken","token","defaults","common","localStorage","setItem","removeItem","fetchUser","createAsyncThunk","a","get","data","userLogin","email","password","post","authSlice","createSlice","name","initialState","isAuthenticated","user","loading","reducers","authLogout","state","action","extraReducers","builder","addCase","pending","fulfilled","payload","message","rejected","actions","Home","useState","setId","useSelector","auth","dispatch","useDispatch","useEffect","uuidv4","className","to","width","height","viewBox","d","fill","onClick","Login","setEmail","setPassword","authStatus","handleOnChange","event","target","value","onSubmit","preventDefault","htmlFor","type","placeholder","onChange","Register","form","setForm","regSucceed","setRegSuccess","handleChange","autoComplete","then","msg","Message","room","socket","messages","setMessages","setMessage","on","element","document","getElementById","length","scrollTop","scrollHeight","map","item","index","renderMessage","emit","el","documentElement","fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled","exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen","requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullScreen","ToggleFullScreen","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","END_POINT","Room","isMsg","setIsMsg","isFullScreen","setIsFullScreen","audioUnmute","setAudioUnmute","videoVisible","setVideoVisible","isPresenting","setIsPresenting","screenCastStream","setScreenCastStream","streamObj","setStreamObj","loadingStatus","useParams","history","useHistory","io","transports","upgrade","peerId","setPeerId","members","setMembers","Peer","config","iceServers","urls","trickle","peer","peerID","userPeers","videos","innerHTML","navigator","mediaDevices","getUserMedia","video","audio","stream","playStream","forEach","member","call","remoteStream","updateStream","answer","arr","i","childNodes","includes","push","console","log","removeChild","isLocal","createElement","div","srcObject","muted","playPromise","play","undefined","_","catch","error","appendChild","toggleScreenShare","getVideoTracks","track","stop","replaceTrack","getDisplayMedia","cursor","screenStream","getTracks","onended","getToggleFullScreen","style","backgroundColor","color","textAlign","IconButton","enabled","destroy","window","location","reload","getAudioTracks","marginLeft","text","href","clipboard","writeText","copied","success","textArea","body","focus","select","execCommand","copyUrl","Join","Loading","App","checkBeforeRender","setCheckBeforeRender","getItem","path","exact","component","store","configureStore","reducer","authReducer","ReactDOM","render"],"mappings":"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","file":"static/js/main.30f97bc5.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 185;","import axios from \"axios\";\n\nconst api = axios.create({\n  baseURL: process.env.REACT_APP_HOST_URL,\n  headers: { \"Content-Type\": \"application/json; charset=UTF-8\" },\n});\n\napi.interceptors.response.use(\n  (res) => res,\n  (err) => {\n    if (err.response.status === 401) {\n      // store.dispatch({ type: LOGOUT });\n    }\n    return Promise.reject(err);\n  }\n);\n\nexport default api;\n ","import api from \"./index\";\n\nconst setToken = (token) => {\n  if (token) {\n    api.defaults.headers.common[\"x-auth-token\"] = token;\n    localStorage.setItem(\"token\", token);\n  } else {\n    delete api.defaults.headers.common[\"x-auth-token\"];\n    localStorage.removeItem(\"token\");\n  }\n};\n\nconst getToken = () => {\n  return localStorage.getItem(\"token\");\n};\n\nexport { setToken, getToken };\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport api from \"api\";\nimport { setToken } from \"api/token\";\n\nconst initialState = {\n  isAuthenticated: false,\n  user: null,\n  loading: false,\n};\n\nexport const fetchUser  = createAsyncThunk(\"auth/fetchUser\",\n async () => {\n  const response = await api.get(\"/auth\");\n  return response.data;\n});\n\nexport const userLogin = createAsyncThunk(\n  \"auth/userLogin\",\n  async ({ email, password }) => {\n    const response = await api.post(\"/login\", { email, password });\n    return response.data;\n  }\n);\n\nconst authSlice = createSlice({\n  name: \"auth\",\n  initialState,\n  reducers: {\n    authLogout(state, action) {    //function name is action name (must be equal)\n      state.loading = false;\n      state.isAuthenticated = false;\n      state.user = null;\n      setToken(\"\");\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchUser.pending, (state, action) => {    //if request pending\n        state.loading = true;\n        state.isAuthenticated = false;\n      })\n      .addCase(fetchUser.fulfilled, (state, action) => {    //if fetchUser fulfilled \n        state.loading = false;\n        if (!action.payload.message) {\n          state.isAuthenticated = true;\n          state.user = action.payload.user;\n        }\n      })\n      .addCase(fetchUser.rejected, (state, action) => {\n        state.loading = false;\n      })\n      .addCase(userLogin.pending, (state, action) => {\n        state.loading = true;\n      })\n      .addCase(userLogin.fulfilled, (state, action) => {\n        state.loading = false;\n        if (!action.payload.message) {\n          setToken(action.payload.token);\n          state.user = action.payload.user;\n          state.isAuthenticated = true;\n        }\n      })\n      .addCase(userLogin.rejected, (state, action) => {\n        state.loading = false;\n      });\n  },\n});\n\nexport const { authLogout } = authSlice.actions;\n\nexport default authSlice.reducer;\n ","import { Link, Redirect } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { authLogout } from \"redux/slices/auth\";\r\n\r\nfunction Home() {\r\n\r\n  let [id, setId] = useState();\r\n  const user = useSelector((state) => state.auth.user);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    setId(uuidv4());         //when user enter in the room make unique id for room\r\n  }, []);\r\n\r\n  if (!user) return <Redirect to=\"/login\" />;    //if user not login first redirect to login page\r\n\r\n  return (\r\n\r\n    <div className=\"flex h-full bg-img-background bg-cover bg-no-repeat w-full justify-center items-center\">\r\n      <div className=\"flex w-1/2 h-full items-center justify-center\">\r\n            <div className=\"w-3/4\">\r\n          <div className=\"flex justify-center\">\r\n\r\n            <Link to={`/join`} className=\"flex justify-end min-w-3/4 mr-6\">\r\n              <button className=\"justify-center flex min-w-1/2 items-center bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full focus:outline-none\">\r\n                <svg width=\"2em\" height=\"2em\" viewBox=\"0 0 24 24\">\r\n                  <path\r\n                    d=\"M3.7 7.7a.996.996 0 0 1 1.41 0L12 14.59l4.29-4.3L14.7 8.7c-.62-.62-.18-1.7.71-1.7H20c.55 0 1 .45 1 1v4.59c0 .89-1.08 1.34-1.71.71l-1.59-1.59l-5 5a.996.996 0 0 1-1.41 0L3.7 9.11c-.38-.38-.38-1.02 0-1.41z\"\r\n                    fill=\"currentColor\"\r\n                  ></path>\r\n                </svg>\r\n                <div>Join meeting</div>\r\n              </button>\r\n            </Link>\r\n\r\n            <Link\r\n              to={`/rooms/${id}`}\r\n              className=\"flex justify-start min-w-3/4 ml-6\"\r\n            >\r\n              <button className=\"justify-center focus:outline-none min-w-1/2 flex items-center bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full\">\r\n                <svg width=\"2em\" height=\"2em\" viewBox=\"0 0 24 24\">\r\n                  <path\r\n                    d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\r\n                    fill=\"currentColor\"\r\n                  ></path>\r\n                </svg>\r\n                <div>\r\n                  <div>Create a meeting</div>\r\n                </div>\r\n              </button>\r\n            </Link>\r\n          </div>\r\n\r\n          <div className=\"flex justify-center mt-6\">\r\n            <div className=\"text-white text-xl text hover:underline cursor-pointer\">\r\n              <button\r\n                className=\"focus:outline-none\"\r\n                onClick={() => dispatch(authLogout())}\r\n              >\r\n                Logout\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Redirect } from \"react-router\";\nimport { Link } from \"react-router-dom\";\nimport { userLogin } from \"redux/slices/auth\";\n\nfunction Login() {\n  let [email, setEmail] = useState(\"\");\n  let [password, setPassword] = useState(\"\");\n\n  const authStatus = useSelector((state) => state.auth.isAuthenticated);\n  const dispatch = useDispatch();\n\n  function handleOnChange(event) {\n    if (event.target.id === \"email\") setEmail(event.target.value);\n    else setPassword(event.target.value);\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    dispatch(userLogin({ email, password }));     //on submit call reducer\n  }\n\n  if (authStatus) {              //if user is not authenticated redirect to signup page\n    return <Redirect to=\"/\" />;\n  }\n\n  return (\n    <div className=\"w-full h-full bg-img-background bg-cover bg-no-repeat\">\n      <div className=\"w-full h-full flex justify-center items-center md:block\">\n        <div className=\"h-full  min-w-min px-3 bg-white bg-opacity-50 shadow-2xl flex items-center justify-center\">\n          <form\n            className=\"flex flex-col items-center justify-center sm:justify-start rounded\"\n            onSubmit={handleSubmit}\n          >\n            <div className=\"flex flex-col justify-center text-xl\">\n              <div className=\"text-6xl md:text-4xl xl:text-5xl 2xl:text-7xl mb-12 flex justify-center\">\n                Sign in\n              </div>\n              <div className=\"mb-4\">\n                <label\n                  className=\"block text-gray-700 font-bold mb-2\"\n                  htmlFor=\"email\"\n                >\n                  Email\n                </label>\n                <input\n                  className=\"shadow text-lg appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                  id=\"email\"\n                  type=\"text\"\n                  placeholder=\"Email\"\n                  onChange={handleOnChange}\n                  value={email}\n                />\n              </div>\n              <div className=\"\">\n                <label\n                  className=\"block text-gray-700 font-bold mb-2\"\n                  htmlFor=\"password\"\n                >\n                  Password\n                </label>\n                <input\n                  className=\"shadow text-lg appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline\"\n                  id=\"password\"\n                  type=\"password\"\n                  placeholder=\"******************\"\n                  onChange={handleOnChange}\n                  value={password}\n                />\n              </div>\n              <div className=\"flex text-xs xl:text-sm 2xl:text-base\">\n                <div className=\"text-black text-opacity-60 mr-2\">\n                  If you don't have account ?\n                </div>\n                <div>\n                  <Link to=\"/register\" className=\"text-blue-500\">\n                    Sign up\n                  </Link>\n                </div>\n              </div>\n              <div className=\"flex items-center justify-center mt-2\">\n                <button\n                  className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\"\n                  type=\"submit\"\n                >\n                  Sign In\n                </button>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n","import { Link, Redirect } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport api from \"api\";\n\nfunction Register() {\n  let [form, setForm] = useState({});\n  const [regSucceed, setRegSuccess] = useState(false);\n\n  function handleChange(e) {\n    setForm({ ...form, [e.target.id]: e.target.value });\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    api.post(\"/register\", { ...form }).then((response) => {\n      if (response.msg) {\n      } else {\n        setRegSuccess(true);\n      }\n    });\n  }\n\n  if (regSucceed) {\n    return <Redirect to=\"/login\" />;\n  }\n\n  return (\n    <div className=\"h-full bg-img-background bg-cover bg-no-repeat flex justify-center md:block\">\n      <div className=\"h-full  items-center flex justify-center bg-white bg-opacity-50 shadow-2xl rounded px-4\">\n        <form className=\"max-w-lg text-xl\" autoComplete=\"off\" onSubmit={handleSubmit}>\n          <div className=\"text-6xl md:text-4xl xl:text-5xl 2xl:text-7xl mb-12 flex justify-center\">\n            Sign up\n          </div>\n\n          <div className=\"mb-4\">\n            <label\n              className=\"block text-gray-700 font-bold mb-2\"\n              htmlFor=\"name\"\n            >\n              Full name\n            </label>\n            <input\n              className=\"text-lg appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white\"\n              id=\"name\"\n              type=\"text\"\n              placeholder=\"Name\"\n              onChange={handleChange}\n            />\n          </div>\n          <div className=\"mb-4\">\n            <label\n              className=\"block text-gray-700 font-bold mb-2\"\n              htmlFor=\"email\"\n            >\n              Email\n            </label>\n            <input\n              className=\"text-lg appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white\"\n              id=\"email\"\n              type=\"text\"\n              placeholder=\"Email\"\n              onChange={handleChange}\n            />\n          </div>\n          <div className=\"flex flex-wrap -mx-3\">\n            <div className=\"w-full px-3\">\n              <label\n                className=\"block tracking-wide text-gray-700 font-bold mb-2\"\n                htmlFor=\"password\"\n              >\n                Password\n              </label>\n              <input\n                className=\"text-lg appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white\"\n                id=\"password\"\n                type=\"password\"\n                placeholder=\"******************\"\n                onChange={handleChange}\n              />\n            </div>\n          </div>\n\n          <div className=\"flex text-xs xl:text-sm 2xl:text-base mb-1\">\n            <div className=\"text-black text-opacity-60 mr-2\">\n              If you have account ?\n            </div>\n            <div>\n              <Link to=\"/login\" className=\"text-blue-500\">\n                Login\n              </Link>\n            </div>\n          </div>\n\n          <div className=\"flex items-center justify-center\">\n            <button\n              className=\"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\"\n              type=\"submit\"\n            >\n              Sign up\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default Register;\n","import { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\n\nfunction Message({ room, socket }) {\n  let [messages, setMessages] = useState([]);\n  let [message, setMessage] = useState(\"\");\n  const user = useSelector((state) => state.auth.user);\n\n  useEffect(() => {\n    if (socket) {\n      socket.on(\"message\", (message) => {\n        setMessages([...messages, message]);\n        let element = document.getElementById(\"messages\");\n       if(messages.length>0) element.scrollTop = element.scrollHeight;\n      });\n    }\n    //return () => {\n    //  socket?.off(\"message\");\n    //};\n  });\n\n  function handleInput(e) {\n    e.preventDefault();\n    setMessage(e.target.value);\n  }\n\n  function handleSendMessage(e) {\n    e.preventDefault();\n    if (message && socket) {\n      socket.emit(\"sendMessage\", { name: user.name, msg: message, room });\n      setMessage(\"\");\n    }\n  }\n\n  function renderMessage(item, index) {\n    if (item.name !== \"Admin\")\n      return (\n        <div\n          key={index}\n          className={\n            item.name === user.name ? \"flex justify-end\" : \"flex justify-start\"\n          }\n        >\n          <div\n            key={index}\n            className={\n              item.name === user.name\n                ? \"w-auto max-w-full inline-block p-2 rounded-xl bg-blue-500 my-1 text-white\"\n                : \"w-auto max-w-full inline-block p-2 rounded-xl bg-gray-400 my-1\"\n            }\n          >\n            <p className=\"text-xs font-bold w-auto max-w-full\">{item.name}</p>\n            <p className=\"w-auto max-w-full\">{item.msg}</p>\n          </div>\n        </div>\n      );\n    return (\n      <div key={index} className=\"flex justify-center text-gray-400\">\n        {item.msg}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"h-full w-full\">\n      <div className=\"h-full mx-2\">\n        <div\n          id=\"messages\"\n          className=\"h-full pb-16 text-sm pt-2 overflow-y-auto no-scrollbar\"\n        >\n          <div className=\"\">\n            {messages?.map((item,index) => renderMessage(item, index))}\n          </div>\n        </div>\n      </div>\n\n      <div className=\"fixed bottom-0 w-1/4 bg-white\">\n        <form\n          className=\"h-16 w-full flex border-t py-2 items-center justify-between\"\n          onSubmit={handleSendMessage}\n        >\n          <div className=\"h-full w-10/12 p-2 flex items-center\">\n            <input\n              type=\"text\"\n              name=\"message\"\n              autoComplete=\"off\"\n              placeholder=\"Enter message ...\"\n              value={message}\n              onChange={handleInput}\n              className=\"h-full w-full text-xs no-scrollbar resize-none outline-none border-gray-400 border rounded-lg p-2\"\n            />\n          </div>\n          <div className=\"h-full flex items-center w-2/12 mr-2 py-2\">\n            <button\n              type=\"submit\"\n              className=\"focus:outline-none px-2 py-1 bg-blue-700 text-white rounded-lg\"\n            >\n              Send\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default Message;\n","const el = document.documentElement;\r\ndocument.fullscreenEnabled = document.fullscreenEnabled ||\r\ndocument.webkitFullscreenEnabled ||\r\ndocument.mozFullScreenEnabled ||\r\ndocument.msFullscreenEnabled;\r\ndocument.exitFullscreen = document.exitFullscreen ||\r\ndocument.webkitExitFullscreen ||\r\ndocument.mozCancelFullScreen ||\r\ndocument.msExitFullscreen;\r\nel.requestFullscreen = el.requestFullscreen ||\r\nel.webkitRequestFullscreen ||\r\nel.mozRequestFullScreen ||\r\nel.msRequestFullScreen;\r\nconst ToggleFullScreen = () => {\r\n  // full-screen available?\r\n  if (document.fullscreenEnabled) {\r\n    // are we full-screen?\r\n    document.fullscreenElement ||\r\n    document.webkitFullscreenElement ||\r\n    document.mozFullScreenElement ||\r\n    document.msFullscreenElement ? document.exitFullscreen() : el.requestFullscreen();\r\n  }\r\n};\r\nexport default ToggleFullScreen;","import { useParams } from \"react-router\";\r\nimport { Redirect, useHistory } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useEffect, useState } from \"react\";\r\nimport io from \"socket.io-client\";\r\nimport Peer from \"peerjs\";\r\nimport Message from \"components/Message\";\r\nimport { message as copied} from 'antd'\r\nimport 'antd/dist/antd.css'\r\nimport ToggleFullScreen from \"./fullScreen\";\r\n\r\nimport {IconButton, Badge, Input, Button} from '@material-ui/core'\r\nimport VideocamIcon from '@material-ui/icons/Videocam'\r\nimport VideocamOffIcon from '@material-ui/icons/VideocamOff'\r\nimport MicIcon from '@material-ui/icons/Mic'\r\nimport MicOffIcon from '@material-ui/icons/MicOff'\r\nimport ScreenShareIcon from '@material-ui/icons/ScreenShare'\r\nimport StopScreenShareIcon from '@material-ui/icons/StopScreenShare'\r\nimport ChatIcon from '@material-ui/icons/Chat'\r\nimport CallEndIcon from '@material-ui/icons/CallEnd';\r\nimport FullscreenIcon from '@material-ui/icons/Fullscreen';\r\nimport FullscreenExitIcon from '@material-ui/icons/FullscreenExit';\r\nimport FileCopyOutlinedIcon from '@material-ui/icons/FileCopyOutlined';\r\n//import { Row } from 'reactstrap'\r\n//import Modal from 'react-bootstrap/Modal'\r\nimport 'bootstrap/dist/css/bootstrap.css'\r\n\r\nconst END_POINT = process.env.REACT_APP_HOST_URL;\r\n\r\nfunction Room() {\r\n\r\n  const [isMsg,setIsMsg] = useState(false);\r\n  const [isFullScreen,setIsFullScreen] = useState(false);\r\n  const [audioUnmute,setAudioUnmute] = useState(true);\r\n  const [videoVisible,setVideoVisible] = useState(true);\r\n  const [isPresenting, setIsPresenting] = useState(false);\r\n  const [screenCastStream, setScreenCastStream] = useState();\r\n  const [streamObj, setStreamObj] = useState();\r\n  const loadingStatus = useSelector((state) => state.auth.loading);\r\n  const authStatus = useSelector((state) => state.auth.isAuthenticated);\r\n  const [room] = useState(useParams().id);\r\n  const user = useSelector((state) => state.auth.user);\r\n  const history = useHistory();\r\n\r\n  const [socket] = useState(() =>\r\n    io(END_POINT, {\r\n      transports: [\"websocket\"],\r\n      upgrade: false,\r\n    })\r\n  );\r\n  \r\n  const [peerId, setPeerId] = useState();\r\n  const [members, setMembers] = useState([]);\r\n  const [peer] = useState(\r\n    () =>\r\n      new Peer({\r\n        config: {\r\n          iceServers: [\r\n            { urls: 'stun:stun2.1.google.com:19302'}\r\n          ],\r\n        },  \r\n        trickle: false,\r\n      })\r\n  );\r\n\r\n  useEffect(() => {\r\n\r\n    //Emitted when a connection to the PeerServer is established\r\n    peer?.on(\"open\", (id) => {  \r\n       setPeerId(id);\r\n      socket.emit(\"joinRoom\", { name: user?.name, room, peerID: id });\r\n\r\n      socket.on(\"allMembers\", (userPeers) => {\r\n        let videos = document.getElementById(\"videoContainer\");\r\n        if (videos) videos.innerHTML = \"\";\r\n        navigator.mediaDevices\r\n          .getUserMedia({ video: true, audio: true })\r\n          .then((stream) => {\r\n            setAudioUnmute(true);\r\n            setVideoVisible(true);\r\n            setStreamObj(stream);\r\n            playStream(id, stream, true);\r\n            userPeers.forEach((member) => {\r\n              if (member !== id) {\r\n                let call = peer.call(member, stream);\r\n                call?.on(\"stream\", (remoteStream) => {\r\n                  playStream(member, remoteStream);\r\n                });\r\n              }\r\n            });\r\n            updateStream(userPeers);\r\n          });\r\n\r\n        // Answer\r\n        //Emitted when a remote peer attempts to call you\r\n        peer.on(\"call\", (call) => {\r\n          if (videos) videos.innerHTML = \"\";\r\n          navigator.mediaDevices\r\n            .getUserMedia({ video: true, audio: true })\r\n            .then((stream) => {\r\n              call.answer(stream);\r\n              playStream(id, stream, true);\r\n              userPeers.forEach((member) => {\r\n                if (member !== id) {\r\n                  call?.on(\"stream\", (remoteStream) => {  //stream event emmited when a remote peer adds a stream\r\n                    playStream(member, remoteStream);\r\n                  });\r\n                }\r\n              });\r\n              updateStream(userPeers);\r\n            });\r\n        });\r\n\r\n        setMembers(userPeers);\r\n      });\r\n    });\r\n  }, [socket, room, user, peer, members]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      socket?.emit(\"peerClose\", { peerId });\r\n    };\r\n  }, [socket, peerId]);\r\n\r\n  useEffect(() => {\r\n    updateStream(members);\r\n  }, [members]);\r\n\r\n  if (!authStatus && !loadingStatus) {\r\n    return <Redirect to=\"/login\" />;\r\n  }\r\n\r\n  function updateStream(userPeers) {\r\n    let videos = document.getElementById(\"videoContainer\");\r\n    let arr = [];\r\n    for (let i = 0; i < videos.childNodes.length; i++) {\r\n      if (!userPeers.includes(videos.childNodes[i].id)) {\r\n        arr.push(videos.childNodes[i]);\r\n      }\r\n      console.log(arr);\r\n    }\r\n\r\n    arr.forEach((video) => {\r\n      videos.removeChild(video);\r\n    });\r\n  }\r\n\r\n  function playStream(id, stream, isLocal = false) {\r\n    if (!document.getElementById(id)) {\r\n      let video = document.createElement(\"video\");\r\n      let div = document.createElement(\"div\");\r\n      let videos = document.getElementById(\"videoContainer\");\r\n\r\n      div.className = \"max-w-full min-w-min flex justify-center items-center\";\r\n      video.srcObject = stream;\r\n      if (isLocal) {\r\n        video.muted = \"muted\";\r\n      }\r\n      div.id = id;\r\n      var playPromise = video.play(); \r\n      if (playPromise !== undefined){\r\n        playPromise\r\n          .then((_) => {})\r\n          .catch((error) => {\r\n             console.log(error);\r\n          });\r\n      }\r\n      div.appendChild(video);\r\n      if (videos) videos.appendChild(div);\r\n    }\r\n  }\r\n\r\n  const toggleVideo = () => {\r\n    let enabled = streamObj.getVideoTracks()[0].enabled;\r\n    if(enabled)\r\n    {\r\n      streamObj.getVideoTracks()[0].enabled = false;\r\n      setStreamObj(streamObj);\r\n      setVideoVisible(false);\r\n    }else{\r\n      streamObj.getVideoTracks()[0].enabled = true;\r\n      setStreamObj(streamObj);\r\n      setVideoVisible(true);\r\n    }\r\n  };\r\n\r\n  const toggleAudio = () => {\r\n    let enabled = streamObj.getAudioTracks()[0].enabled;\r\n    \r\n    if(enabled)\r\n    {\r\n      streamObj.getAudioTracks()[0].enabled = false;\r\n      setStreamObj(streamObj);\r\n      setAudioUnmute(false);\r\n    }else{\r\n      streamObj.getAudioTracks()[0].enabled = true;\r\n      setStreamObj(streamObj);\r\n      setAudioUnmute(true);\r\n    }\r\n  };\r\n\r\n  const copyUrl = () => {\r\n\t\tlet text = window.location.href\r\n\t\tif (!navigator.clipboard) {\r\n\t\t\tlet textArea = document.createElement(\"textarea\")\r\n\t\t\ttextArea.value = text\r\n\t\t\tdocument.body.appendChild(textArea)\r\n\t\t\ttextArea.focus()\r\n\t\t\ttextArea.select()\r\n\t\t\ttry {\r\n\t\t\t\tdocument.execCommand('copy')\r\n\t\t\t  copied.success(\"Link copied to clipboard!\")\r\n\t\t\t} catch (err) {\r\n      \tcopied.error(\"Failed to copy\")\r\n\t\t\t}\r\n\t\t\tdocument.body.removeChild(textArea)\r\n\t\t\treturn\r\n\t\t}\r\n\t\tnavigator.clipboard.writeText(text).then(function () {\r\n\t\t\tcopied.success(\"Link copied to clipboard!\")\r\n\t\t}, () => {\r\n      copied.error(\"Failed to copy\")\r\n\t\t})\r\n\t};\r\n\r\n  const screenShare = () => {\r\n    navigator.mediaDevices\r\n      .getDisplayMedia({ cursor: true })\r\n      .then((screenStream) => {\r\n       \r\n        peer.replaceTrack(\r\n          streamObj.getVideoTracks()[0],\r\n          screenStream.getVideoTracks()[0],\r\n          streamObj\r\n        );\r\n        setScreenCastStream(screenStream);\r\n        screenStream.getTracks()[0].onended = () => {\r\n          peer.replaceTrack(\r\n            screenStream.getVideoTracks()[0],\r\n            streamObj.getVideoTracks()[0],\r\n            streamObj\r\n          );\r\n        };\r\n   \r\n        setIsPresenting(true);\r\n      });\r\n  };\r\n\r\n  const stopScreenShare = () => {\r\n    screenCastStream.getVideoTracks().forEach(function (track) {\r\n      track.stop();\r\n    });\r\n    peer.replaceTrack(\r\n      screenCastStream.getVideoTracks()[0],\r\n      streamObj.getVideoTracks()[0],\r\n      streamObj\r\n    );\r\n    setIsPresenting(false);\r\n  };\r\n\r\n  const toggleScreenShare =()=>{\r\n          if(isPresenting===true){\r\n            stopScreenShare();\r\n          }else{\r\n            screenShare();\r\n          }\r\n  }\r\n\r\n  const disconnectCall = () => {\r\n    peer.destroy();\r\n    history.push(\"/login\");\r\n   window.location.reload();\r\n  };\r\n\r\n  const handleExitFullScreenClick =()=> {\r\n    document.webkitExitFullscreen();\r\n  }\r\n  const getToggleFullScreen = ()=>{\r\n     if(!isFullScreen){\r\n        ToggleFullScreen();\r\n        setIsFullScreen(true)\r\n      }else{\r\n      handleExitFullScreenClick();\r\n      setIsFullScreen(false);\r\n    }\r\n}\r\n const showChat = ()=>{\r\n     if(isMsg){\r\n       setIsMsg(false);\r\n     }else{\r\n       setIsMsg(true);\r\n     }\r\n }\r\n\r\n  return (\r\n    <div className=\"w-full h-full flex\">\r\n      <div \r\n        className=\"w-full  h-full no-scrollbar grid grid-cols-2 gap-2 overflow-y-scroll bg-black bg-opacity-90 p-2\"\r\n        id=\"videoContainer\"\r\n      ></div>\r\n      \r\n      {\r\n        isMsg===true?\r\n       <div className=\"w-1/4 hidden sm:block h-full border-l border-gray-300\">\r\n       <Message room={room} socket={socket} />\r\n       </div>:\r\n       <></>\r\n      }\r\n\r\n      <div className=\"btn-down\" style={{ backgroundColor: \"whitesmoke\", color: \"whitesmoke\", textAlign: \"center\" }}>\r\n\t\t\t\t\t\t\t<IconButton style={{ color: \"#424242\" }} onClick={()=>toggleVideo()}>\r\n\t\t\t\t\t\t\t\t{(videoVisible === true) ? <VideocamIcon /> : <VideocamOffIcon />}\r\n\t\t\t\t\t\t\t</IconButton>\r\n\r\n\t\t\t\t\t\t\t<IconButton style={{ color: \"#f44336\" }} onClick={()=>disconnectCall()}>\r\n\t\t\t\t\t\t\t\t<CallEndIcon />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\r\n\t\t\t\t\t\t\t<IconButton style={{ color: \"#424242\" }} onClick={()=>toggleAudio()}>\r\n\t\t\t\t\t\t\t\t{audioUnmute === false ? <MicIcon /> : <MicOffIcon />}\r\n\t\t\t\t\t\t\t</IconButton>\r\n              \r\n\t\t\t\t\t\t\t\t<IconButton style={{ color: \"#424242\" }} onClick={()=>toggleScreenShare()}>\r\n\t\t\t\t\t\t\t\t\t{isPresenting === true ? <ScreenShareIcon /> : <StopScreenShareIcon />}\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\r\n\t\t\t\t\t\t\t\t<IconButton style={{ color: \"#424242\" }} onClick={()=>getToggleFullScreen()}>\r\n\t\t\t\t\t\t\t\t\t{\r\n                    isFullScreen!==true?\r\n                    <FullscreenIcon />\r\n                  :<FullscreenExitIcon/>\r\n                  }\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n                     \r\n                <IconButton style={{ color: \"#424242\" }} onClick={()=>showChat()}>\r\n\t\t\t\t\t\t\t\t\t<ChatIcon/>\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n                   \r\n                <IconButton style={{ color: \"#424242\" ,marginLeft: '0.8rem' }} onClick={()=>copyUrl()}>\r\n              <FileCopyOutlinedIcon/>\r\n\t\t\t\t\t\t\t</IconButton>\r\n    \r\n          \t</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Room;","import { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Join() {\r\n  let [id, setId] = useState();\r\n\r\n  function handleChange(e) {\r\n    e.preventDefault();\r\n    setId(e.target.value);\r\n  }\r\n\r\n  return (\r\n    <div className=\"w-full h-full flex justify-center items-center bg-img-background bg-cover bg-no-repeat\">\r\n      <div>\r\n        <div>\r\n          <form>\r\n            <input\r\n              name=\"id\"\r\n              type=\"text\"\r\n              value={id}\r\n              onChange={handleChange}\r\n              placeholder=\"Enter room's id ...\"\r\n              className=\"rounded-lg p-2 focus:outline-none\"\r\n            />\r\n            <Link to={`/rooms/${id}`}>\r\n              <button\r\n                type=\"submit\"\r\n                className=\"bg-blue-500 text-white ml-4 text-lg py-2 px-3 rounded-xl\"\r\n              >\r\n                JOIN\r\n              </button>\r\n            </Link>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Join;\r\n","function Loading() {\n  return (\n    <div className=\"w-full h-full flex justify-center items-center text-white bg-img-background bg-cover bg-no-repeat\">\n      <div>\n        loading.....\n      </div>\n    </div>\n  );\n}\n\nexport default Loading;\n","import { Route, Switch } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Home from \"components/Home\";\r\nimport Login from \"components/Login\";\r\nimport Register from \"components/Register\";\r\nimport Room from \"components/Room\";\r\nimport Join from \"components/Join\";\r\nimport { setToken, getToken } from \"api/token\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { fetchUser } from \"redux/slices/auth\";\r\nimport Loading from \"components/Loading\";\r\n\r\nfunction App() {\r\n\r\n  const loading = useSelector((state) => state.auth.loading);\r\n  const dispatch = useDispatch();\r\n  const [checkBeforeRender, setCheckBeforeRender] = useState(true);\r\n\r\n  useEffect(() => {\r\n    let token = getToken();   //get token from localstorage\r\n    setToken(token);        //set token to localstorage\r\n    dispatch(fetchUser());\r\n    setCheckBeforeRender(false);\r\n  }, [dispatch]);\r\n\r\n  if (loading || checkBeforeRender) {\r\n    return <Loading />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"App h-full font-custom\">\r\n      <Switch>\r\n        <Route path=\"/login\" exact component={Login} />\r\n        <Route path=\"/register\" exact component={Register} />\r\n        <Route path=\"/rooms/:id\" component={Room} />\r\n        <Route path=\"/join\" exact component={Join} />\r\n        <Route path=\"/\" exact component={Home} />\r\n      </Switch>\r\n    </div>\r\n  );\r\n}\r\nexport default App;\r\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport { getDefaultMiddleware } from \"@reduxjs/toolkit\";\nimport authReducer from \"./slices/auth\";\n\nconst store = configureStore({\n  reducer: {\n    auth: authReducer,\n  }//,\n  //middleware: getDefaultMiddleware({\n  //  serializableCheck: false,\n  //}),\n});\n\nexport default store;\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport store from \"redux/store\";\r\nimport { Provider } from \"react-redux\";\r\n\r\nReactDOM.render(\r\n  <Router>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </Router>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}